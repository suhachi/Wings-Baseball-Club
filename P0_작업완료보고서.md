# P0 READ-ONLY ê°ì‚¬ ì‘ì—… ì™„ë£Œ ë³´ê³ ì„œ

**ì‘ì—… ì™„ë£Œ ì¼ì‹œ**: 2024ë…„ (í˜„ì¬)  
**ì‘ì—… ë²”ìœ„**: Î¼ATOM-0001 ~ Î¼ATOM-0005  
**ì‘ì—… ë°©ì‹**: READ-ONLY (ì½”ë“œ ë³€ê²½ ì—†ìŒ)  
**ì‘ì—… ëª©ì **: v1.1 ë¦¬ì…‹ ì „ í˜„ì¬ ë ˆí¬ ìƒíƒœë¥¼ ì¦ê±° ê¸°ë°˜ìœ¼ë¡œ í™•ì •

---

## ì‘ì—… ì™„ë£Œ ìš”ì•½

### âœ… ì™„ë£Œëœ Î¼ATOM (5ê°œ)

| Î¼ATOM | ì œëª© | ìƒíƒœ | ì‚°ì¶œë¬¼ |
|-------|------|------|--------|
| **Î¼ATOM-0001** | ë ˆí¬ íŠ¸ë¦¬ ìŠ¤ëƒ…ìƒ· | âœ… ì™„ë£Œ | `Î¼ATOM-0001_REPO_SNAPSHOT.md` |
| **Î¼ATOM-0002** | ë¼ìš°íŒ…/íƒ­/ë„¤ë¹„ ì¦ê±° ìˆ˜ì§‘ | âœ… ì™„ë£Œ | `Î¼ATOM-0002_ROUTING_TABS_NAV.md` |
| **Î¼ATOM-0003** | Firestore Rules/Indexes í˜„í™© ìº¡ì²˜ | âœ… ì™„ë£Œ | `Î¼ATOM-0003_FIRESTORE_RULES.md` |
| **Î¼ATOM-0004** | Functions ì—”ë“œí¬ì¸íŠ¸/ìŠ¤ì¼€ì¤„ëŸ¬ ëª©ë¡í™” | âœ… ì™„ë£Œ | `Î¼ATOM-0004_FUNCTIONS_ENDPOINTS.md` |
| **Î¼ATOM-0005** | ì œì™¸ ë²”ìœ„ í‚¤ì›Œë“œ ì¦ê±° ìˆ˜ì§‘ | âœ… ì™„ë£Œ | `Î¼ATOM-0005_EXCLUDED_KEYWORDS.md` |

### ğŸ“‹ í†µí•© ë³´ê³ ì„œ
- **P0_READONLY_AUDIT_COMPLETE_REPORT.md** - ì „ì²´ ê°ì‚¬ ê²°ê³¼ í†µí•©

---

## í•µì‹¬ ë°œê²¬ ì‚¬í•­ (ì¦ê±° ê¸°ë°˜)

### 1. ë ˆí¬ êµ¬ì¡° (Î¼ATOM-0001)

**í”„ë¡œì íŠ¸ êµ¬ì„±**:
- **í”„ë¡ íŠ¸ì—”ë“œ**: Vite 6.3.5 + React 18.3.1 + TypeScript 5.2.2
- **Functions**: Node.js 20 + Firebase Functions v2 (4.7.0)
- **íŒŒì¼ ìˆ˜**: src/ 88ê°œ, functions/src/ 18ê°œ

**í•µì‹¬ íŒŒì¼ ì¡´ì¬ í™•ì¸**:
- âœ… `package.json`, `tsconfig.json`, `vite.config.ts`
- âœ… `firebase.json`, `.firebaserc`, `firestore.rules`
- âœ… `functions/`, `src/`, `public/`
- âŒ `firestore.indexes.json` (ì—†ìŒ)

---

### 2. ë¼ìš°íŒ…/íƒ­ êµ¬ì¡° (Î¼ATOM-0002)

**BottomNav íƒ­ (5ê°œ â†’ v1.1: 3ê°œ)**:
- âœ… `home` - ìœ ì§€
- âœ… `schedule` - ìœ ì§€
- âœ… `boards` - ìœ ì§€
- âŒ `album` - ì œì™¸ ëŒ€ìƒ
- âœ… `my` - ìœ ì§€

**BoardsPage ë‚´ë¶€ íƒ­ (5ê°œ â†’ v1.1: 3ê°œ)**:
- âœ… `notice` - ìœ ì§€
- âœ… `free` - ìœ ì§€
- âš ï¸ `meetup` - `event`ë¡œ ë³€ê²½ í•„ìš”
- âŒ `poll` - ì œì™¸ ëŒ€ìƒ
- âŒ `game` - ì œì™¸ ëŒ€ìƒ

**ì œì™¸ ëŒ€ìƒ í˜ì´ì§€ (4ê°œ)**:
1. `src/app/pages/AlbumPage.tsx` - ì•¨ë²”
2. `src/app/pages/FinancePage.tsx` - íšŒê³„
3. `src/app/pages/GameRecordPage.tsx` - ê²½ê¸° ê¸°ë¡
4. `src/app/pages/ApprovalPendingPage.tsx` - ìŠ¹ì¸ ëŒ€ê¸° (ì£½ì€ ì½”ë“œ)

**ì§„ì… ê²½ë¡œ ì¦ê±°**:
- `App.tsx` ë¼ì¸ 14, 20, 21: import
- `App.tsx` ë¼ì¸ 184, 200, 201: ë Œë”ë§
- `BottomNav.tsx` ë¼ì¸ 15: íƒ­
- `HomePage.tsx` ë¼ì¸ 197: ë„¤ë¹„ê²Œì´ì…˜
- `MyPage.tsx`: props (onNavigateToFinance, onNavigateToGameRecord)

---

### 3. Firestore Rules í˜„í™© (Î¼ATOM-0003)

**v1.1 ì¤€ìˆ˜ í•­ëª©**:
- âœ… `notice` í´ë¼ write ì°¨ë‹¨ (Functions-only)
- âœ… `event` í´ë¼ write ì°¨ë‹¨ (Functions-only)
- âœ… `free` ë©¤ë²„ create í—ˆìš©
- âœ… `comments` ì‘ì„±ì/adminLikeë§Œ ìˆ˜ì •/ì‚­ì œ
- âœ… `attendance` ë³¸ì¸ë§Œ, voteClosed==falseì¼ ë•Œë§Œ
- âœ… `dues/ledger/audit/idempotency` ì „ë©´ ì°¨ë‹¨

**v1.1 ì œì™¸ ëŒ€ìƒ (Rules ì œê±° í•„ìš”)**:
- âŒ ë¼ì¸ 157-168: `/votes/{userId}` match ë¸”ë¡ (poll)
- âŒ ë¼ì¸ 171-196: `/record_*` match ë¸”ë¡ (game records)
- âŒ ë¼ì¸ 91, 95: `poll`, `game` íƒ€ì… ì°¸ì¡°
- âŒ ë¼ì¸ 110-111: `recordingLocked` í•„ë“œ ì°¸ì¡°

**ë³€ê²½ í•„ìš”**:
- âš ï¸ ë¼ì¸ 92, 96: `meetup` â†’ `event`ë¡œ ë³€ê²½

**Indexes**: ì—†ìŒ (í˜„ì¬ëŠ” ë‹¨ìˆœ ì¿¼ë¦¬ë§Œ ì‚¬ìš©)

---

### 4. Functions ì—”ë“œí¬ì¸íŠ¸ (Î¼ATOM-0004)

**í™œì„± í•¨ìˆ˜ (4ê°œ)**:
- âœ… `setMemberRole` (callable) - `functions/src/callables/members.ts` ë¼ì¸ 26
- âœ… `setMemberProfileByAdmin` (callable) - `functions/src/callables/members.ts` ë¼ì¸ 141
- âœ… `createNoticeWithPush` (callable) - `functions/src/callables/notices.ts` ë¼ì¸ 26
- âœ… `registerFcmToken` (callable) - `functions/src/callables/tokens.ts` ë¼ì¸ 25

**ë¯¸êµ¬í˜„ í•¨ìˆ˜ (v1.1 í•„ìš”)**:
- âš ï¸ `createEventPost` (callable) - `functions/src/callables/events.ts` (ë¹ˆ íŒŒì¼)
- âš ï¸ `closeEventVotes` (scheduled) - `functions/src/scheduled/closeEventVotes.ts` (ë¹ˆ íŒŒì¼)

**ì œì™¸ ëŒ€ìƒ í•¨ìˆ˜ (ì œê±° í•„ìš”)**:
- âŒ `functions/src/callables/polls.ts` (ë¹ˆ íŒŒì¼)
- âŒ `functions/src/callables/dues.ts` (ë¹ˆ íŒŒì¼)
- âŒ `functions/src/callables/ledger.ts` (ë¹ˆ íŒŒì¼)
- âŒ `functions/src/callables/games.ts` (ë¹ˆ íŒŒì¼)

---

### 5. ì œì™¸ ë²”ìœ„ í‚¤ì›Œë“œ (Î¼ATOM-0005)

**ì œê±° ì™„ë£Œ**:
- âœ… `invite` - Rulesì—ì„œ ì°¨ë‹¨ë¨ (ë¼ì¸ 54-57)
- âœ… `signup` - ì‚¬ìš© ì•ˆ í•¨

**ì œê±° í•„ìš” (ì‚¬ìš©ì¤‘)**:
- âŒ `record` - 3ê°œ íŒŒì¼ (game-record/)
- âŒ `lock` - 3ê°œ íŒŒì¼ (game-record/)
- âŒ `poll` - 2ê°œ íŒŒì¼ (PollVoteModal, BoardsPage)
- âŒ `album` - 2ê°œ íŒŒì¼ (AlbumPage, FileUploadModal)
- âŒ `finance` - 1ê°œ íŒŒì¼ (FinancePage)
- âŒ `game` - 4ê°œ íŒŒì¼ (GameRecordPage, game-record/)

**ì œê±° í•„ìš” (ì£½ì€ ì½”ë“œ)**:
- âš ï¸ `approval` - 1ê°œ íŒŒì¼ (ApprovalPendingPage, ë¼ìš°íŒ… ì—†ìŒ)
- âš ï¸ `dues` - 1ê°œ íŒŒì¼ (dues.ts ë¹ˆ íŒŒì¼)
- âš ï¸ `ledger` - 1ê°œ íŒŒì¼ (ledger.ts ë¹ˆ íŒŒì¼)

**ë³€ê²½ í•„ìš”**:
- âš ï¸ `meetup` â†’ `event` (BoardsPage, Rules)

---

## P1 ì œê±° ëŒ€ìƒ ì •í™• ëª©ë¡

### íŒŒì¼ ì œê±° ëŒ€ìƒ (12ê°œ)

#### í”„ë¡ íŠ¸ì—”ë“œ (8ê°œ)
1. `src/app/pages/AlbumPage.tsx`
2. `src/app/pages/FinancePage.tsx`
3. `src/app/pages/GameRecordPage.tsx`
4. `src/app/pages/ApprovalPendingPage.tsx`
5. `src/app/components/PollVoteModal.tsx`
6. `src/app/components/game-record/BatterTable.tsx`
7. `src/app/components/game-record/PitcherTable.tsx`
8. `src/app/components/game-record/LineupEditor.tsx`

#### Functions (4ê°œ)
9. `functions/src/callables/polls.ts`
10. `functions/src/callables/dues.ts`
11. `functions/src/callables/ledger.ts`
12. `functions/src/callables/games.ts`

### ì½”ë“œ ìˆ˜ì • ëŒ€ìƒ (ì°¸ì¡° ì œê±°)

#### `src/app/App.tsx` (8ê³³)
- ë¼ì¸ 14: `AlbumPage` import ì œê±°
- ë¼ì¸ 20: `FinancePage` import ì œê±°
- ë¼ì¸ 21: `GameRecordPage` import ì œê±°
- ë¼ì¸ 27: `PageType`ì—ì„œ `'album'`, `'finance'`, `'game-record'` ì œê±°
- ë¼ì¸ 36: `activeTab` íƒ€ì…ì—ì„œ `'album'` ì œê±°
- ë¼ì¸ 184: `AlbumPage` ë Œë”ë§ ì œê±°
- ë¼ì¸ 200: `FinancePage` ë Œë”ë§ ì œê±°
- ë¼ì¸ 201: `GameRecordPage` ë Œë”ë§ ì œê±°

#### `src/app/components/BottomNav.tsx` (2ê³³)
- ë¼ì¸ 15: `album` íƒ­ ì œê±°
- ë¼ì¸ 6-7: íƒ€ì…ì—ì„œ `'album'` ì œê±°

#### `src/app/pages/BoardsPage.tsx` (5ê³³)
- ë¼ì¸ 13: `PollVoteModal` import ì œê±°
- ë¼ì¸ 39: `polls` í•„í„° ì œê±°
- ë¼ì¸ 40: `games` í•„í„° ì œê±°
- ë¼ì¸ 64-67: `poll`, `game` íƒ­ ì œê±°
- ê´€ë ¨ TabsContent ì œê±°

#### `src/app/pages/MyPage.tsx` (2ê³³)
- `onNavigateToFinance` prop ì œê±°
- `onNavigateToGameRecord` prop ì œê±°

#### `src/app/pages/HomePage.tsx` (1ê³³)
- ë¼ì¸ 197: `album` ë„¤ë¹„ê²Œì´ì…˜ ì œê±°

#### `firestore.rules` (4ê³³)
- ë¼ì¸ 157-168: `/votes/{userId}` match ë¸”ë¡ ì œê±°
- ë¼ì¸ 171-196: `/record_*` match ë¸”ë¡ ì œê±°
- ë¼ì¸ 91, 95: `poll`, `game` íƒ€ì… ì°¸ì¡° ì œê±°
- ë¼ì¸ 110-111: `recordingLocked` í•„ë“œ ì°¸ì¡° ì œê±°
- ë¼ì¸ 92, 96: `meetup` â†’ `event`ë¡œ ë³€ê²½

---

## Î¼ATOM-0101~0110 ë§¤í•‘ ì™„ë£Œ

| Î¼ATOM | ì œëª© | ëŒ€ìƒ íŒŒì¼/ì½”ë“œ | ìƒíƒœ |
|-------|------|---------------|------|
| **Î¼ATOM-0101** | Invite/ì´ˆëŒ€ ë„ë©”ì¸ ì œê±° | `firestore.rules` ë¼ì¸ 54-57 | âœ… ëŒ€ë¶€ë¶„ ì œê±°ë¨ |
| **Î¼ATOM-0102** | íšŒì›ê°€ì…/ê°€ì…ìŠ¹ì¸ UI/Flow ì œê±° | `ApprovalPendingPage.tsx` | âš ï¸ ì œê±° í•„ìš” |
| **Î¼ATOM-0103** | ê²½ê¸° ê¸°ë¡ ì œê±° | `GameRecordPage.tsx`, `game-record/`, Rules | âŒ ì œê±° í•„ìš” |
| **Î¼ATOM-0104** | íšŒë¹„/íšŒê³„ ì œê±° | `FinancePage.tsx`, `dues.ts`, `ledger.ts`, Rules | âŒ ì œê±° í•„ìš” |
| **Î¼ATOM-0105** | ì•¨ë²” ì œê±° | `AlbumPage.tsx`, `BottomNav.tsx`, `App.tsx` | âŒ ì œê±° í•„ìš” |
| **Î¼ATOM-0106** | ì˜ì œ íˆ¬í‘œ ê²Œì‹œíŒ ì œê±° | `PollVoteModal.tsx`, `BoardsPage.tsx`, Rules | âŒ ì œê±° í•„ìš” |
| **Î¼ATOM-0107** | Rulesì—ì„œ ì œì™¸ ë„ë©”ì¸ match ì œê±° | `firestore.rules` (4ê³³) | âŒ ì œê±° í•„ìš” |
| **Î¼ATOM-0108** | Functions exportì—ì„œ ì œì™¸ ë„ë©”ì¸ ì œê±° | `functions/src/index.ts` | âœ… ì´ë¯¸ ì£¼ì„ ì²˜ë¦¬ë¨ |
| **Î¼ATOM-0109** | UI ì§„ì… ê²½ë¡œì—ì„œ ì œì™¸ ë„ë©”ì¸ ë§í¬ ì œê±° | `App.tsx`, `BottomNav.tsx`, `BoardsPage.tsx` ë“± | âŒ ì œê±° í•„ìš” |
| **Î¼ATOM-0110** | "dead code" ì”ì¡´ ì—¬ë¶€ ìµœì¢… í™•ì¸ | grep ì¬ê²€ìƒ‰ | â³ P1 ì™„ë£Œ í›„ |

---

## ê²€ì¦ ì»¤ë§¨ë“œ (P1 ì™„ë£Œ í›„)

```bash
# ë¹Œë“œ ê²€ì¦
npm run build
npm run type-check
cd functions && npm run build

# ì œì™¸ í‚¤ì›Œë“œ ì¬ê²€ìƒ‰ (0ê±´ í™•ì¸)
rg -n "(invite|approval|signup|record|recorder|lock|dues|ledger|poll|album)" -S src functions firestore.rules || echo "0 matches"
```

---

## ì‘ì—… ì‚°ì¶œë¬¼ ëª©ë¡

### ë¦¬í¬íŠ¸ íŒŒì¼ (6ê°œ)
1. âœ… `Î¼ATOM-0001_REPO_SNAPSHOT.md` - ë ˆí¬ êµ¬ì¡° ìŠ¤ëƒ…ìƒ·
2. âœ… `Î¼ATOM-0002_ROUTING_TABS_NAV.md` - ë¼ìš°íŒ…/íƒ­ ì¦ê±°
3. âœ… `Î¼ATOM-0003_FIRESTORE_RULES.md` - Rules í˜„í™©
4. âœ… `Î¼ATOM-0004_FUNCTIONS_ENDPOINTS.md` - Functions ëª©ë¡
5. âœ… `Î¼ATOM-0005_EXCLUDED_KEYWORDS.md` - ì œì™¸ í‚¤ì›Œë“œ ì¦ê±°
6. âœ… `P0_READONLY_AUDIT_COMPLETE_REPORT.md` - í†µí•© ë³´ê³ ì„œ

### ì¦ê±° ê¸°ë°˜ ë°ì´í„°
- íŒŒì¼ ê²½ë¡œ: ëª¨ë“  ë°œê²¬ ì‚¬í•­ì— íŒŒì¼ ê²½ë¡œ í¬í•¨
- ë¼ì¸ ë²ˆí˜¸: ëª¨ë“  ì½”ë“œ ì°¸ì¡°ì— ë¼ì¸ ë²ˆí˜¸ í¬í•¨
- ëª…ë ¹ ê²°ê³¼: ì‹¤ì œ ì‹¤í–‰ ê²°ê³¼ ê¸°ë°˜

---

## Done ì²´í¬ë¦¬ìŠ¤íŠ¸

- [x] Î¼ATOM-0001~0005 ì™„ë£Œ
- [x] ê° Î¼ATOMë³„ ë¦¬í¬íŠ¸ ì‘ì„± (ì¦ê±° ê¸°ë°˜)
- [x] P1 ì œê±° ëŒ€ìƒ ì •í™• ëª©ë¡ í™•ì • (íŒŒì¼ ê²½ë¡œ + ë¼ì¸ ë²ˆí˜¸)
- [x] Î¼ATOM-0101~0110 ë§¤í•‘ ì™„ë£Œ
- [x] ë‹¤ìŒ ë‹¨ê³„ ì‘ì—… ìˆœì„œ í™•ì •
- [x] í†µí•© ì™„ë£Œ ë³´ê³ ì„œ ì‘ì„±

---

## ë‹¤ìŒ ë‹¨ê³„

**P1: ì œì™¸ ë²”ìœ„ ë¬¼ë¦¬ ì œê±° (Î¼ATOM-0101~0110)**

ì‘ì—… ìˆœì„œ:
1. Î¼ATOM-0101: Invite/ì´ˆëŒ€ ë„ë©”ì¸ ì œê±° (Rules ì •ë¦¬)
2. Î¼ATOM-0102: íšŒì›ê°€ì…/ê°€ì…ìŠ¹ì¸ UI/Flow ì œê±°
3. Î¼ATOM-0103: ê²½ê¸° ê¸°ë¡ ì œê±°
4. Î¼ATOM-0104: íšŒë¹„/íšŒê³„ ì œê±°
5. Î¼ATOM-0105: ì•¨ë²” ì œê±°
6. Î¼ATOM-0106: ì˜ì œ íˆ¬í‘œ ê²Œì‹œíŒ ì œê±°
7. Î¼ATOM-0107: Rulesì—ì„œ ì œì™¸ ë„ë©”ì¸ match ì œê±°
8. Î¼ATOM-0108: Functions exportì—ì„œ ì œì™¸ ë„ë©”ì¸ ì œê±°
9. Î¼ATOM-0109: UI ì§„ì… ê²½ë¡œì—ì„œ ì œì™¸ ë„ë©”ì¸ ë§í¬ ì œê±°
10. Î¼ATOM-0110: "dead code" ì”ì¡´ ì—¬ë¶€ ìµœì¢… í™•ì¸

---

**ì‘ì—… ì™„ë£Œì¼**: 2024ë…„ (í˜„ì¬)  
**ì‘ì—…ì**: AI Assistant (Cursor)  
**ê²€ìˆ˜ ì¤€ë¹„**: ì™„ë£Œ (ì•ˆí‹°ê·¸ë˜ë¹„í‹°/ì½”íŒŒì¼ëŸ¿ ê²€ìˆ˜ ê°€ëŠ¥)

**ì‘ì—… ë°©ì‹**: READ-ONLY (ì½”ë“œ ë³€ê²½ ì—†ìŒ, ì¦ê±° ìˆ˜ì§‘ë§Œ)  
**ê·¼ê±°**: ëª¨ë“  ë°œê²¬ ì‚¬í•­ì— íŒŒì¼ ê²½ë¡œ/ë¼ì¸ ë²ˆí˜¸/ëª…ë ¹ ê²°ê³¼ í¬í•¨

